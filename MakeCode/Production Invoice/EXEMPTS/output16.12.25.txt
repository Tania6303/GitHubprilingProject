[
    {
        "logs": {
            "stdout": [
                "v1.7.1: input type = object isArray = false\n",
                "ğŸ” inputData keys: learned_config, docs_list, import_files, vehicles, AZURE_RESULT, AZURE_TEXT_CLEAN, template_index\n",
                "ğŸ” inputData.input exists? false\n",
                "ğŸ” inputData.AZURE exists? false\n",
                "ğŸ” inputData.SUPNAME exists? false\n",
                "âœ… docs_list parsed: 0 ×ª×¢×•×“×•×ª\n",
                "âœ… vehicles parsed: 0 ×¨×›×‘×™×\n",
                "ğŸ”§ ×‘×•× ×” structure ××ª×•×š processing_scenario.all_templates\n",
                "âœ… × ×‘× ×• 1 structures: [{\"has_import\":false,\"has_doc\":false,\"has_vehicles\":false,\"debit_type\":\"D\",\"has_budcode\":true,\"inventory_management\":\"not_managed_inventory\"}]\n",
                "ğŸš— vehicleRules: false mapping: 0\n",
                "BOOKNUM: \"\" â†’ \"\"\n",
                "ğŸ”§ needItems=true (has_doc=false, found docs=0)\n",
                "âœ… DETAILS set from first item PDES: null\n",
                "{\n  \"status\": \"success\",\n  \"supplier_identification\": {\n    \"supplier_code\": \"3710\",\n    \"supplier_name\": \"×“×¨×™×Ÿ ×˜×¨×’×œ ×•×©×•×ª`\",\n    \"identification_method\": \"vendor_tax_id\",\n    \"confidence\": \"high\"\n  },\n  \"invoice_data\": {\n    \"PINVOICES\": [\n      {\n        \"SUPNAME\": \"3710\",\n        \"CODE\": \"×©\\\"×—\",\n        \"DEBIT\": \"D\",\n        \"IVDATE\": \"\",\n        \"BOOKNUM\": \"\",\n        \"PINVOICEITEMS_SUBFORM\": [\n          {\n            \"PARTNAME\": \"zzz02\",\n            \"TUNITNAME\": \"×™×—'\",\n            \"VATFLAG\": \"Y\",\n            \"ACCNAME\": \"49998\",\n            \"PDES\": \"\",\n            \"TQUANT\": 1,\n            \"PRICE\": 0\n          }\n        ],\n        \"DETAILS\": null,\n        \"PINVOICESCONT_SUBFORM\": []\n      }\n    ]\n  },\n  \"validation\": {\n    \"all_valid\": false,\n    \"checks\": {\n      \"required_fields_check\": \"failed\",\n      \"invoice_structure_check\": \"passed\",\n      \"amount_validation\": \"not_applicable\",\n      \"field_mapping\": {\n        \"SUPNAME\": {\n          \"source\": \"Template\",\n          \"field\": \"supplier_code\",\n          \"value\": \"3710\"\n        },\n        \"CODE\": {\n          \"source\": \"Template\",\n          \"value\": \"×©\\\"×—\"\n        },\n        \"DEBIT\": {\n          \"source\": \"Template\",\n          \"value\": \"D\"\n        },\n        \"IVDATE\": {\n          \"source\": \"OCR\",\n          \"field\": \"InvoiceDate\",\n          \"value\": \"\"\n        },\n        \"BOOKNUM\": {\n          \"source\": \"OCR\",\n          \"field\": \"InvoiceId\",\n          \"value\": \"\"\n        },\n        \"DETAILS\": {\n          \"source\": \"First Item PDES\",\n          \"value\": null\n        },\n        \"PINVOICEITEMS_SUBFORM\": {\n          \"source\": \"OCR Items\",\n          \"count\": 1\n        }\n      }\n    },\n    \"warnings\": [\n      \"×©×“×•×ª ×—×•×‘×” ×—×¡×¨×™×: IVDATE, BOOKNUM\",\n      \"â„¹ï¸ ×œ× × ×™×ª×Ÿ ×œ×‘×“×•×§ ×¡×›×•××™×\"\n    ]\n  },\n  \"learning_analysis\": {\n    \"learning_required\": false,\n    \"new_patterns\": {\n      \"new_partnames\": [],\n      \"new_vehicles\": [],\n      \"unknown_accounts\": []\n    },\n    \"learning_instructions\": [],\n    \"recommendation\": \"××™×Ÿ ×¦×•×¨×š ×‘×œ××™×“×”\"\n  },\n  \"execution_report\": {\n    \"stage\": \"×©×œ×‘ 7: × ×™×§×•×™ ×•×”×›× ×” ×œ×¤×¨×™×•×¨×™×˜×™\",\n    \"found\": [\n      \"×¡×•×’: ×™×‘×•×=false, ×ª×¢×•×“×•×ª=false, ×—×™×•×‘/×–×™×›×•×™=D\",\n      \"×ª×‘× ×™×ª: × ××¦××” ×”×ª×××” (index=0) (×–×™×”×•×™ ××•×˜×•××˜×™ - template_index ×œ× ×ª×§×™×Ÿ)\",\n      \"×“×¤×•×¡×™×: × ××¦××•\",\n      \"details: \\\"×˜×œ×¤×•×Ÿ: 073-2400700 ×¤×§×¡: 09-8628554\\\"\",\n      \"items: 0 ×¤×¨×™×˜×™×\"\n    ],\n    \"not_found\": [],\n    \"warnings\": [],\n    \"errors\": [],\n    \"template_match\": {\n      \"status\": \"matched\",\n      \"template_index\": 0,\n      \"reason\": \"×–×™×”×•×™ ××•×˜×•××˜×™ (template_index ×‘×§×œ×˜ ×œ× ×ª×§×™×Ÿ)\",\n      \"document_characteristics\": {\n        \"has_import\": false,\n        \"has_doc\": false,\n        \"debit_type\": \"D\"\n      },\n      \"available_templates\": 1\n    }\n  },\n  \"metadata\": {\n    \"ocr_invoice_id\": \"\",\n    \"ocr_invoice_date\": \"\",\n    \"ocr_total_amount\": 0,\n    \"ocr_subtotal\": null,\n    \"ocr_tax\": 0,\n    \"processing_timestamp\": \"2025-12-16T14:31:32.882Z\",\n    \"version\": \"1.0-production\",\n    \"template_index\": 0,\n    \"template_type\": \"regular\",\n    \"has_vehicles\": false,\n    \"vehicle_numbers\": [],\n    \"vehicle_count\": 0,\n    \"has_documents\": false,\n    \"document_count\": 0,\n    \"has_import\": false\n  }\n}\n",
                "v1.7.1: items = 1\n",
                "v1.7.1: BOOKNUM = \n",
                "v1.7.1: DOCNO = undefined\n",
                "==========================================\n"
            ],
            "stderr": []
        },
        "executionTimeMs": 1929,
        "result": {
            "status": "success",
            "supplier_identification": {
                "supplier_code": "3710",
                "supplier_name": "×“×¨×™×Ÿ ×˜×¨×’×œ ×•×©×•×ª`",
                "identification_method": "vendor_tax_id",
                "confidence": "high"
            },
            "invoice_data": {
                "PINVOICES": [
                    {
                        "SUPNAME": "3710",
                        "CODE": "×©\"×—",
                        "DEBIT": "D",
                        "IVDATE": "",
                        "BOOKNUM": "",
                        "PINVOICEITEMS_SUBFORM": [
                            {
                                "PARTNAME": "zzz02",
                                "TUNITNAME": "×™×—'",
                                "VATFLAG": "Y",
                                "ACCNAME": "49998",
                                "PDES": "",
                                "TQUANT": 1,
                                "PRICE": 0
                            }
                        ],
                        "DETAILS": null,
                        "PINVOICESCONT_SUBFORM": []
                    }
                ]
            },
            "validation": {
                "all_valid": false,
                "checks": {
                    "required_fields_check": "failed",
                    "invoice_structure_check": "passed",
                    "amount_validation": "not_applicable",
                    "field_mapping": {
                        "SUPNAME": {
                            "source": "Template",
                            "field": "supplier_code",
                            "value": "3710"
                        },
                        "CODE": {
                            "source": "Template",
                            "value": "×©\"×—"
                        },
                        "DEBIT": {
                            "source": "Template",
                            "value": "D"
                        },
                        "IVDATE": {
                            "source": "OCR",
                            "field": "InvoiceDate",
                            "value": ""
                        },
                        "BOOKNUM": {
                            "source": "OCR",
                            "field": "InvoiceId",
                            "value": ""
                        },
                        "DETAILS": {
                            "source": "First Item PDES",
                            "value": null
                        },
                        "PINVOICEITEMS_SUBFORM": {
                            "source": "OCR Items",
                            "count": 1
                        }
                    }
                },
                "warnings": [
                    "×©×“×•×ª ×—×•×‘×” ×—×¡×¨×™×: IVDATE, BOOKNUM",
                    "â„¹ï¸ ×œ× × ×™×ª×Ÿ ×œ×‘×“×•×§ ×¡×›×•××™×"
                ]
            },
            "learning_analysis": {
                "learning_required": false,
                "new_patterns": {
                    "new_partnames": [],
                    "new_vehicles": [],
                    "unknown_accounts": []
                },
                "learning_instructions": [],
                "recommendation": "××™×Ÿ ×¦×•×¨×š ×‘×œ××™×“×”"
            },
            "execution_report": {
                "stage": "×©×œ×‘ 7: × ×™×§×•×™ ×•×”×›× ×” ×œ×¤×¨×™×•×¨×™×˜×™",
                "found": [
                    "×¡×•×’: ×™×‘×•×=false, ×ª×¢×•×“×•×ª=false, ×—×™×•×‘/×–×™×›×•×™=D",
                    "×ª×‘× ×™×ª: × ××¦××” ×”×ª×××” (index=0) (×–×™×”×•×™ ××•×˜×•××˜×™ - template_index ×œ× ×ª×§×™×Ÿ)",
                    "×“×¤×•×¡×™×: × ××¦××•",
                    "details: \"×˜×œ×¤×•×Ÿ: 073-2400700 ×¤×§×¡: 09-8628554\"",
                    "items: 0 ×¤×¨×™×˜×™×"
                ],
                "not_found": [],
                "warnings": [],
                "errors": [],
                "template_match": {
                    "status": "matched",
                    "template_index": 0,
                    "reason": "×–×™×”×•×™ ××•×˜×•××˜×™ (template_index ×‘×§×œ×˜ ×œ× ×ª×§×™×Ÿ)",
                    "document_characteristics": {
                        "has_import": false,
                        "has_doc": false,
                        "debit_type": "D"
                    },
                    "available_templates": 1
                }
            },
            "metadata": {
                "ocr_invoice_id": "",
                "ocr_invoice_date": "",
                "ocr_total_amount": 0,
                "ocr_subtotal": null,
                "ocr_tax": 0,
                "processing_timestamp": "2025-12-16T14:31:32.882Z",
                "version": "1.0-production",
                "template_index": 0,
                "template_type": "regular",
                "has_vehicles": false,
                "vehicle_numbers": [],
                "vehicle_count": 0,
                "has_documents": false,
                "document_count": 0,
                "has_import": false
            }
        }
    }
]

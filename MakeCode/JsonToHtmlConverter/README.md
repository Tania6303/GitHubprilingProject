# JSON to HTML Converter - ממיר JSON גנרי ל-HTML

מודול MakeCode להמרת כל מבנה JSON למסמך HTML מעוצב עם תמיכה בעברית ואנגלית.

## תיאור

הקוד מקבל קלט JSON בכל מבנה שהוא והופך אותו לדף HTML מעוצב ומסודר. הקוד מזהה אוטומטית סוגי נתונים שונים ומציג אותם בצורה מותאמת.

## תכונות עיקריות

- **תמיכה בשפות**: עברית (RTL) ואנגלית (LTR)
- **זיהוי אוטומטי של סוגי נתונים**: מחרוזות, מספרים, בוליאנים, מערכים, אובייקטים מקוננים
- **תצוגת HTML מוטמע**: שדות HTML מקוריים מוצגים בסוף הדף כפי שהם
- **עיצוב רספונסיבי**: Grid layout מותאם למספר השדות
- **צבעים לפי עומק**: כל רמת קינון מקבלת צבע ייחודי
- **תמיכה בהדפסה**: סגנונות מותאמים להדפסה

## קלט (Input)

```javascript
{
  json: {}, // אובייקט JSON כלשהו - חובה
  language: 'hebrew' // שפה - אופציונלי (ברירת מחדל: hebrew)
}
```

### טיפול אוטומטי בקלט (גנרי)
- **מערך עם איבר אחד**: `[{...}]` → ייקח את האיבר הראשון
- **אובייקט עם מפתח יחיד**: `{KEY: {...}}` → יפתח את העטיפה אוטומטית
  - עובד עם כל שם: TEMPLATE, DATA, RESULT, response, וכו'
- **כל מבנה אחר**: יעבד כמו שהוא

### שפות נתמכות
- `hebrew` - עברית (RTL)
- `english` - אנגלית (LTR)

## פלט (Output)

```html
<!DOCTYPE html>
<html dir="rtl" lang="he">
...
</html>
```

הפלט הוא מחרוזת HTML ישירות (לא אובייקט) - מוכן לשימוש במייל או בדף.

## דוגמת קלט

```json
{
  "json": {
    "customer": {
      "name": "ישראל ישראלי",
      "phone": "050-1234567"
    },
    "items": [
      { "product": "מוצר א", "price": 100 },
      { "product": "מוצר ב", "price": 200 }
    ],
    "total": 300,
    "paid": true
  },
  "language": "hebrew"
}
```

## מבנה הקוד

### פונקציות עיקריות

| פונקציה | תיאור |
|---------|-------|
| `getColor(level)` | מחזיר צבע לפי רמת העומק |
| `isHTML(value)` | בודק אם מחרוזת היא HTML |
| `isCompactBlock(value)` | בודק אם אובייקט "קצר" (עד 3 שדות פשוטים) |
| `renderValue(value, level, fieldName)` | פונקציה רקורסיבית להמרת ערך ל-HTML |

### לוגיקת התצוגה

1. **ערכים פשוטים**: מוצגים ישירות
2. **בוליאנים**: מוצגים עם סימני ✓ או ✗
3. **מערכים של פרימיטיבים**: רשימה עם נקודות
4. **מערכים של אובייקטים**: טבלה
5. **אובייקטים קטנים**: כרטיסיות ב-Grid
6. **אובייקטים גדולים**: בלוקים מלאים
7. **HTML מוטמע**: נשמר ומוצג בסוף הדף

### צבעים

```javascript
const colors = ['#2C3E50', '#3498DB', '#16A085', '#8E44AD', '#E67E22'];
```

כל רמת קינון מקבלת צבע מהמערך (מתחלף ב-5 רמות).

## שימוש ב-MakeCode/Make

1. הוסף מודול **Code** לתרחיש
2. הדבק את הקוד
3. חבר קלט JSON מהשלב הקודם
4. הפלט יהיה HTML מוכן להורדה/שליחה

## הערות

- שדות HTML (מעל 100 תווים שמתחילים ב-`<`) מופרדים אוטומטית לסוף המסמך
- סדר השדות מתהפך (אחרון ראשון) לצורך תצוגה נוחה יותר
- התצוגה מותאמת גם להדפסה

## גרסה

v1.0.0 - דצמבר 2024
